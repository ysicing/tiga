# ä»»åŠ¡ï¼šå®šæ—¶ä»»åŠ¡å’Œå®¡è®¡ç³»ç»Ÿé‡æ„ï¼ˆç®€åŒ–ç‰ˆï¼‰

**è¾“å…¥**ï¼šæ¥è‡ª `.claude/specs/006-gitness-tiga/` çš„è®¾è®¡æ–‡æ¡£ + å®¡è®¡æŠ¥å‘Š + å®¡è®¡ç»Ÿä¸€æ–¹æ¡ˆ
**å‰ææ¡ä»¶**ï¼šplan.mdã€research.mdã€data-model.mdã€contracts/ã€quickstart.mdã€audit-report.mdã€audit-unification.md
**åŠŸèƒ½åˆ†æ”¯**ï¼š`006-gitness-tiga`
**ç‰ˆæœ¬**ï¼šv3.0ï¼ˆå®¡è®¡ç»Ÿä¸€ç‰ˆï¼‰

---

## âš ï¸ é‡è¦ï¼šå®¡è®¡ç»“æœä¸ç»Ÿä¸€æ–¹æ¡ˆ

æœ¬ä»»åŠ¡åˆ—è¡¨åŸºäºä¸¤æ¬¡å®¡è®¡ä¼˜åŒ–ï¼š

**å®¡è®¡ 1 - ç®€åŒ–**ï¼ˆ`audit-report.md`ï¼‰ï¼š
- **åˆ é™¤**ï¼šæ‰€æœ‰åˆ†å¸ƒå¼é”ç›¸å…³ä»»åŠ¡ï¼ˆTiga æ˜¯å•å®ä¾‹åº”ç”¨ï¼‰
- **ç®€åŒ–**ï¼šåŸºäºç°æœ‰ä»£ç å¢å¼ºï¼Œè€Œéå®Œå…¨é‡å†™
- **ä¿ç•™**ï¼šæ ¸å¿ƒä»·å€¼åŠŸèƒ½ï¼ˆæ‰§è¡Œå†å²ã€ç»Ÿè®¡ã€å¯¹è±¡æˆªæ–­ï¼‰
- **ç»“æœ**ï¼šä» 48 ä»»åŠ¡å‡å°‘åˆ° 35 ä»»åŠ¡ï¼ˆå‡å°‘ 27%ï¼‰

**å®¡è®¡ 2 - ç»Ÿä¸€**ï¼ˆ`audit-unification.md`ï¼‰ï¼š
- **é—®é¢˜**ï¼šå‘ç° 3 å¥—ç‹¬ç«‹å®¡è®¡å®ç°ï¼ˆHTTPã€MinIOã€Databaseï¼‰
- **æ–¹æ¡ˆ**ï¼šé‡‡ç”¨æ–¹æ¡ˆ Aï¼ˆå•è¡¨ç»Ÿä¸€ `audit_events`ï¼‰
- **å˜æ›´**ï¼š
  - T012ï¼šæ”¹ä¸ºåˆ›å»ºç»Ÿä¸€ `models.AuditEvent` æ¨¡å‹
  - T020ï¼šæ”¹ä¸ºåˆ›å»ºç»Ÿä¸€ `AuditEventRepository`
  - T017ï¼šä½¿ç”¨ç»Ÿä¸€ `audit.AsyncLogger[*AuditEvent]`
  - æ–°å¢ T036-T037ï¼šMinIO å’Œ Database è¿ç§»ä»»åŠ¡ï¼ˆå¯é€‰ï¼‰
- **ç»“æœ**ï¼šä» 35 ä»»åŠ¡å¢åŠ åˆ° **37 ä»»åŠ¡**

---

## æ‰§è¡Œæµç¨‹

åŸºäºä»¥ä¸‹è®¾è®¡æ–‡æ¡£ç”Ÿæˆä»»åŠ¡ï¼š
- âœ… plan.mdï¼šæŠ€æœ¯æ ˆï¼ˆGo 1.24+ã€React 19ï¼‰ã€é¡¹ç›®ç»“æ„
- âœ… research.mdï¼šGitness æ¶æ„ç ”ç©¶ï¼ˆå‚è€ƒï¼Œéç…§æ¬ï¼‰
- âœ… data-model.mdï¼šç®€åŒ–åçš„æ•°æ®æ¨¡å‹ï¼ˆ2 ä¸ªæ–°è¡¨ + 1 ä¸ªç»Ÿä¸€è¡¨ï¼‰
- âœ… contracts/ï¼š2 ä¸ª API å¥‘çº¦ï¼ˆscheduler_api.yamlã€audit_api.yamlï¼‰
- âœ… quickstart.mdï¼šæµ‹è¯•åœºæ™¯ï¼ˆç§»é™¤åˆ†å¸ƒå¼é”åœºæ™¯ï¼‰
- âœ… audit-report.mdï¼šå®¡è®¡ç»“æœå’Œæ”¹è¿›ç­–ç•¥
- âœ… audit-unification.mdï¼šå®¡è®¡ç³»ç»Ÿç»Ÿä¸€æ–¹æ¡ˆï¼ˆæ–¹æ¡ˆ Aï¼‰

---

## æ ¼å¼è¯´æ˜

- **[P]**ï¼šå¯ä»¥å¹¶è¡Œè¿è¡Œï¼ˆä¸åŒæ–‡ä»¶ï¼Œæ— ä¾èµ–å…³ç³»ï¼‰
- **âš ï¸ ç®€åŒ–**ï¼šåŸºäºç°æœ‰ä»£ç å¢å¼º
- **è·¯å¾„çº¦å®š**ï¼š
  - åç«¯ï¼š`internal/models/`ã€`internal/services/`ã€`internal/repository/`ã€`internal/api/handlers/`
  - å‰ç«¯ï¼š`ui/src/pages/`ã€`ui/src/components/`ã€`ui/src/services/`
  - æµ‹è¯•ï¼š`tests/contract/`ã€`tests/integration/`ã€`tests/unit/`

---

## é˜¶æ®µ 3.1ï¼šè®¾ç½®

- [X] **T001** åˆ›å»ºé¡¹ç›®ç»“æ„å’Œåˆ†æ”¯
  - åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ `006-gitness-tiga`
  - åˆ›å»ºç›®å½•ï¼š`internal/services/scheduler/`ï¼ˆå·²å­˜åœ¨ï¼Œç¡®è®¤ï¼‰ã€`tests/contract/`ã€`tests/integration/scheduler/`ã€`tests/integration/audit/`
  - **æ–‡ä»¶**ï¼šç›®å½•ç»“æ„
  - **éªŒè¯**ï¼šæ‰€æœ‰ç›®å½•å­˜åœ¨

- [X] **T002** å®‰è£…ä¾èµ–å’Œå·¥å…·
  - Go ä¾èµ–ï¼š`github.com/robfig/cron/v3`ï¼ˆcron è¡¨è¾¾å¼ï¼‰ã€`github.com/google/uuid`ï¼ˆUUID ç”Ÿæˆï¼‰
  - æµ‹è¯•å·¥å…·ï¼š`github.com/stretchr/testify`ã€`github.com/testcontainers/testcontainers-go`
  - **æ–‡ä»¶**ï¼š`go.mod`
  - **éªŒè¯**ï¼š`go mod tidy` æˆåŠŸ

- [X] **T003** [P] é…ç½®ä»£ç æ£€æŸ¥å·¥å…·
  - ç¡®è®¤ golangci-lint é…ç½®ï¼ˆ`.golangci.yml`ï¼‰
  - ç¡®è®¤å‰ç«¯ ESLint é…ç½®ï¼ˆ`ui/.eslintrc.js`ï¼‰
  - **æ–‡ä»¶**ï¼š`.golangci.yml`ã€`ui/eslint.config.js`
  - **éªŒè¯**ï¼š`task gofmt` é€šè¿‡

---

## é˜¶æ®µ 3.2ï¼šæµ‹è¯•ä¼˜å…ˆï¼ˆTDDï¼‰âš ï¸ å¿…é¡»åœ¨ 3.3 ä¹‹å‰å®Œæˆ

**å…³é”®ï¼šè¿™äº›æµ‹è¯•å¿…é¡»ç¼–å†™å¹¶ä¸”å¿…é¡»åœ¨ä»»ä½•å®ç°ä¹‹å‰å¤±è´¥**

### å¥‘çº¦æµ‹è¯• [P]

- [X] **T004** [P] Scheduler API å¥‘çº¦æµ‹è¯• âš ï¸ ç®€åŒ–
  - æµ‹è¯• 8 ä¸ªç«¯ç‚¹ï¼š
    - `GET /api/v1/scheduler/tasks`
    - `GET /api/v1/scheduler/tasks/:id`
    - `POST /api/v1/scheduler/tasks/:id/enable`
    - `POST /api/v1/scheduler/tasks/:id/disable`
    - `POST /api/v1/scheduler/tasks/:id/trigger`
    - `GET /api/v1/scheduler/executions`
    - `GET /api/v1/scheduler/executions/:id`
    - `GET /api/v1/scheduler/stats`
  - **ç®€åŒ–**ï¼šæ— éœ€éªŒè¯åˆ†å¸ƒå¼é”è¡Œä¸º
  - **æ–‡ä»¶**ï¼š`tests/contract/scheduler_contract_test.go` âœ…
  - **éªŒè¯**ï¼šæµ‹è¯•ç¼–è¯‘å¹¶å…¨éƒ¨å¤±è´¥ï¼ˆ404ï¼‰âœ…
  - **å‚è€ƒ**ï¼š`contracts/scheduler_api.yaml`

- [X] **T005** [P] Audit API å¥‘çº¦æµ‹è¯•
  - æµ‹è¯• 4 ä¸ªç«¯ç‚¹ï¼š
    - `GET /api/v1/audit/events`
    - `GET /api/v1/audit/events/:id`
    - `GET /api/v1/audit/config`
    - `PUT /api/v1/audit/config`
  - **æ–‡ä»¶**ï¼š`tests/contract/audit_contract_test.go` âœ…
  - **éªŒè¯**ï¼šæµ‹è¯•ç¼–è¯‘æˆåŠŸ âœ…
  - **å‚è€ƒ**ï¼š`contracts/audit_api.yaml`

### é›†æˆæµ‹è¯• [P]

- [X] **T006** [P] ä»»åŠ¡æ‰§è¡Œé›†æˆæµ‹è¯•æ¡†æ¶
  - æµ‹è¯•åœºæ™¯ï¼š
    - ä»»åŠ¡è°ƒåº¦å’Œæ‰§è¡Œ
    - ä»»åŠ¡å¤±è´¥é‡è¯•
    - ä»»åŠ¡è¶…æ—¶æ§åˆ¶
    - æ‰‹åŠ¨è§¦å‘ä»»åŠ¡
  - **ç®€åŒ–**ï¼šå•å®ä¾‹æµ‹è¯•ï¼Œæ— éœ€å¤šå®ä¾‹ç«äº‰
  - **æ–‡ä»¶**ï¼š`tests/integration/scheduler/task_execution_test.go` âœ…
  - **éªŒè¯**ï¼šæµ‹è¯•ç¼–è¯‘æˆåŠŸ âœ…
  - **å‚è€ƒ**ï¼š`quickstart.md` åœºæ™¯ 3

- [X] **T007** [P] å¹¶å‘è°ƒåº¦é›†æˆæµ‹è¯• âš ï¸ ç®€åŒ–
  - æµ‹è¯•åœºæ™¯ï¼š
    - å¤šä¸ªä»»åŠ¡å¹¶å‘æ‰§è¡Œï¼ˆå•å®ä¾‹å†…ï¼‰
    - æœ€å¤§å¹¶å‘æ§åˆ¶
    - ä¼˜å…ˆçº§è°ƒåº¦ï¼ˆå¯é€‰ï¼‰
  - **ç®€åŒ–**ï¼šæ— éœ€æµ‹è¯•å¤šå®ä¾‹é”ç«äº‰
  - **æ–‡ä»¶**ï¼š`tests/integration/scheduler/concurrent_test.go` âœ…
  - **éªŒè¯**ï¼šæµ‹è¯•ç¼–è¯‘æˆåŠŸ âœ…
  - **å‚è€ƒ**ï¼š`quickstart.md` åœºæ™¯ 1

- [X] **T008** [P] å®¡è®¡æ—¥å¿—åˆ›å»ºé›†æˆæµ‹è¯•
  - æµ‹è¯•åœºæ™¯ï¼š
    - å®¡è®¡äº‹ä»¶è®°å½•ï¼ˆåˆ›å»ºã€æ›´æ–°ã€åˆ é™¤æ“ä½œï¼‰
    - å®¢æˆ·ç«¯ IP æå–ï¼ˆX-Forwarded-Forã€X-Real-IPï¼‰
    - å¯¹è±¡å·®å¼‚è¿½è¸ªï¼ˆOldObject vs NewObjectï¼‰
    - å¼‚æ­¥å†™å…¥ä¸é˜»å¡ä¸šåŠ¡æ“ä½œï¼ˆéªŒè¯ç°æœ‰ Goroutineï¼‰
  - **æ–‡ä»¶**ï¼š`tests/integration/audit/event_creation_test.go` âœ…
  - **éªŒè¯**ï¼šæµ‹è¯•ç¼–è¯‘æˆåŠŸ âœ…
  - **å‚è€ƒ**ï¼š`quickstart.md` åœºæ™¯ 4

- [X] **T009** [P] å®¡è®¡æ—¥å¿—æŸ¥è¯¢æ€§èƒ½æµ‹è¯•
  - æµ‹è¯•åœºæ™¯ï¼š
    - 10000 æ¡è®°å½•æŸ¥è¯¢ <2 ç§’
    - å¤šç»´åº¦è¿‡æ»¤ï¼ˆèµ„æºç±»å‹ã€æ“ä½œã€æ—¶é—´èŒƒå›´ï¼‰
    - åˆ†é¡µæ­£ç¡®æ€§
    - ç´¢å¼•ä½¿ç”¨éªŒè¯
  - **æ–‡ä»¶**ï¼š`tests/integration/audit/query_performance_test.go` âœ…
  - **éªŒè¯**ï¼šæµ‹è¯•ç¼–è¯‘æˆåŠŸ âœ…
  - **å‚è€ƒ**ï¼š`plan.md` æ€§èƒ½ç›®æ ‡

- [X] **T010** [P] å¯¹è±¡æˆªæ–­é›†æˆæµ‹è¯•
  - æµ‹è¯•åœºæ™¯ï¼š
    - å¯¹è±¡ â‰¤64KB ä¸æˆªæ–­
    - å¯¹è±¡ >64KB æ™ºèƒ½æˆªæ–­å­—æ®µå€¼
    - æˆªæ–­å JSON ç»“æ„å®Œæ•´
    - æˆªæ–­æ ‡è¯†æ­£ç¡®è®°å½•
  - **æ–‡ä»¶**ï¼š`tests/integration/audit/truncation_test.go`
  - **éªŒè¯**ï¼šæµ‹è¯•ç¼–è¯‘ä½†å…¨éƒ¨å¤±è´¥ï¼ˆæˆªæ–­é€»è¾‘æœªå®ç°ï¼‰
  - **å‚è€ƒ**ï¼š`quickstart.md` åœºæ™¯ 5

---

## é˜¶æ®µ 3.3ï¼šæ ¸å¿ƒå®ç°ï¼ˆä»…åœ¨æµ‹è¯•å¤±è´¥åï¼‰

### æ•°æ®æ¨¡å‹ [P]

- [ ] **T011** [P] TaskExecution æ¨¡å‹åˆ›å»º
  - åˆ›å»º GORM æ¨¡å‹ï¼ŒåŒ…å«æ‰€æœ‰å­—æ®µï¼ˆå‚è€ƒ data-model.mdï¼‰
  - å®ç° `ExecutionState` æšä¸¾å’Œ `Validate()` æ–¹æ³•
  - æ·»åŠ ç´¢å¼•ï¼ˆtask_nameã€stateã€started_atï¼‰
  - **æ–‡ä»¶**ï¼š`internal/models/task_execution.go`
  - **éªŒè¯**ï¼šæ¨¡å‹å¯ä»¥ç¼–è¯‘ï¼Œæšä¸¾éªŒè¯æ­£å¸¸
  - **å‚è€ƒ**ï¼š`data-model.md` å®ä½“ 2

- [ ] **T012** [P] åˆ›å»ºç»Ÿä¸€ AuditEvent æ¨¡å‹ ğŸ†• ç»Ÿä¸€å®¡è®¡
  - åˆ›å»º GORM æ¨¡å‹ `models.AuditEvent`ï¼ˆæ›¿æ¢åˆ†æ•£çš„å®¡è®¡è¡¨ï¼‰
  - å®ç° `audit.AuditLog` æ¥å£ï¼ˆ`GetID()`ã€`SetCreatedAt()`ï¼‰
  - åŒ…å«ç»Ÿä¸€å­—æ®µï¼š
    - **æ ¸å¿ƒå­—æ®µ**ï¼šUserID, Username, Action, ResourceType, ResourceID
    - **å¯¹è±¡å·®å¼‚**ï¼šOldObject, NewObject, OldObjectTruncated, NewObjectTruncated, TruncatedFields (TEXT, æœ€å¤§ 64KB)
    - **å­ç³»ç»Ÿç‰¹å®š**ï¼šSubsystem ("http", "minio", "database", "scheduler"), Metadata (JSONB)
    - **æ‰§è¡Œç»“æœ**ï¼šStatus, ErrorMessage
    - **è¯·æ±‚ä¸Šä¸‹æ–‡**ï¼šClientIP, UserAgent, RequestID, RequestMethod
    - **æ—¶é—´æˆ³**ï¼šTimestamp
  - æ·»åŠ ç´¢å¼•ï¼ˆuser_idã€actionã€resource_typeã€subsystemã€statusã€timestampã€request_idï¼‰
  - æ·»åŠ  JSONB GIN ç´¢å¼•ï¼ˆPostgreSQLï¼‰
  - **æ–‡ä»¶**ï¼š`internal/models/audit_event.go`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šæ¨¡å‹ç¼–è¯‘ï¼Œè¿ç§»åˆ›å»º `audit_events` è¡¨
  - **å‚è€ƒ**ï¼š`audit-unification.md` æ–¹æ¡ˆ A

### Scheduler æ ¸å¿ƒæœåŠ¡

- [ ] **T013** Scheduler åŠŸèƒ½å¢å¼º âš ï¸ ç®€åŒ–
  - **åŸºäºç°æœ‰ `internal/services/scheduler/scheduler.go` å¢å¼º**ï¼š
    - æ·»åŠ  `execRepo ExecutionRepository` å­—æ®µ
    - æ·»åŠ  `AddCron(name, cronExpr string, task Task)` æ–¹æ³•
    - æ·»åŠ  `Trigger(name string)` æ–¹æ³•ï¼ˆæ‰‹åŠ¨è§¦å‘ï¼‰
    - å®ç°æ‰§è¡Œå†å²è®°å½•ï¼ˆè°ƒç”¨ `execRepo.Create()`ï¼‰
    - å®ç° Panic æ¢å¤æœºåˆ¶
  - **æ— éœ€å®ç°**ï¼šåˆ†å¸ƒå¼é”ã€Job é˜Ÿåˆ—æŒä¹…åŒ–
  - **æ–‡ä»¶**ï¼š`internal/services/scheduler/scheduler.go`ï¼ˆä¿®æ”¹ç°æœ‰æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šå¯ä»¥æ·»åŠ  Cron ä»»åŠ¡ï¼ŒT006 éƒ¨åˆ†æµ‹è¯•é€šè¿‡
  - **ä¾èµ–**ï¼šT011
  - **å‚è€ƒ**ï¼š`audit-report.md` ç¬¬ 3.1 èŠ‚

- [ ] **T014** ä»»åŠ¡æ‰§è¡Œå†å²è®°å½•
  - åœ¨ Scheduler æ‰§è¡Œé€»è¾‘ä¸­æ·»åŠ å†å²è®°å½•å†™å…¥
  - å®ç°çŠ¶æ€è½¬æ¢è·Ÿè¸ªï¼ˆpending â†’ running â†’ success/failure/timeoutï¼‰
  - å®ç°é”™è¯¯å †æ ˆè®°å½•
  - å®ç°æ‰§è¡Œæ—¶é•¿è®¡ç®—
  - **æ–‡ä»¶**ï¼š`internal/services/scheduler/history.go`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šæ‰§è¡Œå†å²æ­£ç¡®è®°å½•ï¼ŒT006 æµ‹è¯•é€šè¿‡
  - **ä¾èµ–**ï¼šT013

- [ ] **T015** è¶…æ—¶æ§åˆ¶æœºåˆ¶ï¼ˆContext + å®½é™æœŸï¼‰
  - å®ç° Context è¶…æ—¶æ§åˆ¶
  - å®ç° 30 ç§’å®½é™æœŸæœºåˆ¶
  - **æ–‡ä»¶**ï¼š`internal/services/scheduler/timeout.go`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šè¶…æ—¶ä»»åŠ¡æ­£ç¡®ç»ˆæ­¢ï¼ŒT006 æµ‹è¯•é€šè¿‡
  - **ä¾èµ–**ï¼šT013
  - **å‚è€ƒ**ï¼š`research.md` ç¬¬ 5 èŠ‚

- [ ] **T016** ä»»åŠ¡ç»Ÿè®¡æ•°æ®è®¡ç®—
  - å®ç°ç»Ÿè®¡æ•°æ®èšåˆï¼ˆæˆåŠŸç‡ã€å¹³å‡æ‰§è¡Œæ—¶é—´ï¼‰
  - å®ç°å•ä»»åŠ¡ç»Ÿè®¡å’Œå…¨å±€ç»Ÿè®¡
  - **æ–‡ä»¶**ï¼š`internal/services/scheduler/stats.go`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šç»Ÿè®¡æ•°æ®å‡†ç¡®
  - **ä¾èµ–**ï¼šT014
  - **å‚è€ƒ**ï¼š`contracts/scheduler_api.yaml` /stats ç«¯ç‚¹

### Audit æ ¸å¿ƒæœåŠ¡

- [ ] **T017** Audit ä¸­é—´ä»¶å¢å¼º ğŸ†• ä½¿ç”¨ç»Ÿä¸€å®¡è®¡
  - **åŸºäºç°æœ‰ `internal/api/middleware/audit.go` å¢å¼º**ï¼š
    - ä¿®æ”¹ä¸ºä½¿ç”¨ç»Ÿä¸€ `audit.AsyncLogger[*models.AuditEvent]`ï¼ˆæ›¿æ¢ç®€å• Goroutineï¼‰
    - åœ¨ `buildAuditLog()` ä¸­æ„å»º `AuditEvent` å¯¹è±¡
    - ä»è¯·æ±‚ Body å’Œå“åº” Body æå– OldObject/NewObject
    - è°ƒç”¨ `TruncateObject()` å¤„ç†è¶…å¤§å¯¹è±¡
    - è®¾ç½® `Subsystem = "http"`
  - **æ–‡ä»¶**ï¼š`internal/api/middleware/audit.go`ï¼ˆä¿®æ”¹ç°æœ‰æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šæ‰€æœ‰è¯·æ±‚è‡ªåŠ¨è®°å½•åˆ° `audit_events` è¡¨ï¼ŒåŒ…å«å¯¹è±¡å·®å¼‚
  - **ä¾èµ–**ï¼šT012ï¼ˆAuditEvent æ¨¡å‹ï¼‰ã€T018ï¼ˆTruncateObjectï¼‰
  - **å‚è€ƒ**ï¼š`audit-unification.md` ç¬¬äºŒé˜¶æ®µ

- [ ] **T018** å¯¹è±¡æˆªæ–­ç­–ç•¥å®ç°ï¼ˆ64KB é™åˆ¶ï¼‰
  - å®ç° `TruncateObject()` æ–¹æ³•ï¼ˆæ™ºèƒ½æˆªæ–­ç®—æ³•ï¼‰
  - ä¿ç•™ JSON ç»“æ„ï¼Œæˆªæ–­å­—æ®µå€¼
  - è®°å½•æˆªæ–­å­—æ®µåˆ—è¡¨
  - **æ–‡ä»¶**ï¼š`internal/services/audit/truncation.go`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šT010 æµ‹è¯•é€šè¿‡ï¼ŒJSON å¯è§£æ
  - **å‚è€ƒ**ï¼š`research.md` ç¬¬ 4 èŠ‚

### Repository å±‚ [P]

- [ ] **T019** [P] Scheduler ä»“å‚¨å®ç° âš ï¸ ç®€åŒ–
  - å®ç° `TaskExecutionRepository`ï¼ˆCRUDã€å†å²æŸ¥è¯¢ã€ç»Ÿè®¡ï¼‰
  - **æ— éœ€å®ç°**ï¼šTaskLockRepositoryï¼ˆæ— åˆ†å¸ƒå¼é”ï¼‰
  - **æ–‡ä»¶**ï¼š`internal/repository/scheduler/execution.go`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šä»“å‚¨æ–¹æ³•æ­£å¸¸å·¥ä½œ
  - **ä¾èµ–**ï¼šT011

- [ ] **T020** [P] åˆ›å»ºç»Ÿä¸€ AuditEventRepository ğŸ†• ç»Ÿä¸€å®¡è®¡
  - åˆ›å»º `repository.AuditEventRepository`ï¼ˆæ–°ä»“å‚¨ï¼‰
  - å®ç° `audit.AuditRepository[*models.AuditEvent]` æ¥å£
  - å®ç°æ–¹æ³•ï¼š
    - `Create(ctx, event)` - åˆ›å»ºå®¡è®¡äº‹ä»¶
    - `BatchCreate(ctx, events)` - æ‰¹é‡åˆ›å»ºï¼ˆAsyncLogger ä½¿ç”¨ï¼‰
    - `GetByID(ctx, id)` - æŸ¥è¯¢å•ä¸ªäº‹ä»¶
    - `List(ctx, filters)` - å¤šç»´åº¦è¿‡æ»¤æŸ¥è¯¢ï¼ˆæ”¯æŒ Subsystemã€Actionã€ResourceTypeã€æ—¶é—´èŒƒå›´ï¼‰
    - `Count(ctx, filters)` - è®¡æ•°æŸ¥è¯¢
    - `DeleteOlderThan(ctx, retentionDays)` - æ¸…ç†è¿‡æœŸæ—¥å¿—
  - ä¼˜åŒ–åˆ†é¡µæŸ¥è¯¢æ€§èƒ½
  - **æ–‡ä»¶**ï¼š`internal/repository/audit_event_repo.go`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šä»“å‚¨æ–¹æ³•æ­£å¸¸å·¥ä½œï¼ŒæŸ¥è¯¢æ€§èƒ½ç¬¦åˆç›®æ ‡ï¼ˆ<2 ç§’ï¼‰
  - **ä¾èµ–**ï¼šT012ï¼ˆAuditEvent æ¨¡å‹ï¼‰
  - **å‚è€ƒ**ï¼š`audit-unification.md` ç¬¬ä¸€é˜¶æ®µ

- [ ] **T021** [P] æŸ¥è¯¢ç´¢å¼•è®¾è®¡å’Œä¼˜åŒ–
  - åˆ›å»ºå¤åˆç´¢å¼•ï¼ˆå‚è€ƒ data-model.md ç®€åŒ–ç‰ˆï¼‰
  - éªŒè¯ç´¢å¼•ä½¿ç”¨ï¼ˆEXPLAIN æŸ¥è¯¢è®¡åˆ’ï¼‰
  - ä¼˜åŒ–æ…¢æŸ¥è¯¢
  - **æ–‡ä»¶**ï¼šæ•°æ®åº“è¿ç§»è„šæœ¬
  - **éªŒè¯**ï¼šT009 æ€§èƒ½æµ‹è¯•é€šè¿‡
  - **ä¾èµ–**ï¼šT019ã€T020
  - **å‚è€ƒ**ï¼š`research.md` ç¬¬ 6.2 èŠ‚

### API å¤„ç†å™¨ [P]

- [ ] **T022** [P] Scheduler API å¤„ç†å™¨å®ç°
  - å®ç° 8 ä¸ªç«¯ç‚¹å¤„ç†å™¨ï¼š
    - `ListTasks`ã€`GetTask`ã€`EnableTask`ã€`DisableTask`
    - `TriggerTask`ï¼ˆæ‰‹åŠ¨è§¦å‘ï¼‰ã€`ListExecutions`ã€`GetExecution`ã€`GetStats`
  - å®ç°è¯·æ±‚éªŒè¯å’Œé”™è¯¯å¤„ç†
  - **æ–‡ä»¶**ï¼š`internal/api/handlers/scheduler/tasks.go`ã€`executions.go`ã€`stats.go`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šT004 å¥‘çº¦æµ‹è¯•é€šè¿‡
  - **ä¾èµ–**ï¼šT013ã€T019
  - **å‚è€ƒ**ï¼š`contracts/scheduler_api.yaml`

- [ ] **T023** [P] Audit API å¤„ç†å™¨å®ç°
  - å®ç° 4 ä¸ªç«¯ç‚¹å¤„ç†å™¨ï¼š
    - `ListEvents`ã€`GetEvent`ã€`GetConfig`ã€`UpdateConfig`
  - å®ç°åˆ†é¡µå’Œè¿‡æ»¤å‚æ•°è§£æ
  - **æ–‡ä»¶**ï¼š`internal/api/handlers/audit/events.go`ã€`config.go`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šT005 å¥‘çº¦æµ‹è¯•é€šè¿‡
  - **ä¾èµ–**ï¼šT017ã€T020
  - **å‚è€ƒ**ï¼š`contracts/audit_api.yaml`

---

## é˜¶æ®µ 3.4ï¼šå‰ç«¯å®ç° [P]

- [ ] **T024** [P] Scheduler ç®¡ç†é¡µé¢
  - åˆ›å»ºä»»åŠ¡åˆ—è¡¨é¡µï¼ˆæ˜¾ç¤ºæ‰€æœ‰ä»»åŠ¡ã€å¯ç”¨/ç¦ç”¨çŠ¶æ€ï¼‰
  - å®ç°ä»»åŠ¡å¯ç”¨/ç¦ç”¨æ“ä½œ
  - å®ç°ä»»åŠ¡æ‰‹åŠ¨è§¦å‘
  - **æ–‡ä»¶**ï¼š`ui/src/pages/scheduler/task-list-page.tsx`ã€`ui/src/services/scheduler-service.ts`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šé¡µé¢å¯ä»¥æ˜¾ç¤ºå’Œæ“ä½œä»»åŠ¡
  - **ä¾èµ–**ï¼šT022

- [ ] **T025** [P] ä»»åŠ¡æ‰§è¡Œå†å²é¡µé¢
  - åˆ›å»ºæ‰§è¡Œå†å²åˆ—è¡¨é¡µï¼ˆåˆ†é¡µã€è¿‡æ»¤ï¼‰
  - åˆ›å»ºæ‰§è¡Œè¯¦æƒ…é¡µï¼ˆæ˜¾ç¤ºé”™è¯¯å †æ ˆã€æ‰§è¡Œæ—¶é•¿ï¼‰
  - å®ç°ç»Ÿè®¡å›¾è¡¨ï¼ˆæˆåŠŸç‡ã€æ‰§è¡Œæ—¶é—´è¶‹åŠ¿ï¼‰
  - **æ–‡ä»¶**ï¼š`ui/src/pages/scheduler/execution-history-page.tsx`ã€`execution-detail-page.tsx`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šé¡µé¢å¯ä»¥æŸ¥è¯¢å’Œå±•ç¤ºæ‰§è¡Œå†å²
  - **ä¾èµ–**ï¼šT022

- [ ] **T026** [P] å®¡è®¡æ—¥å¿—é¡µé¢
  - åˆ›å»ºå®¡è®¡æ—¥å¿—åˆ—è¡¨é¡µï¼ˆåˆ†é¡µã€å¤šç»´åº¦è¿‡æ»¤ï¼‰
  - åˆ›å»ºå®¡è®¡äº‹ä»¶è¯¦æƒ…é¡µ
  - å®ç°å·®å¼‚å¯¹æ¯”ç»„ä»¶ï¼ˆOldObject vs NewObjectï¼‰
  - **æ–‡ä»¶**ï¼š`ui/src/pages/audit/event-list-page.tsx`ã€`event-detail-page.tsx`ã€`ui/src/components/audit/diff-viewer.tsx`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šé¡µé¢å¯ä»¥æŸ¥è¯¢å’Œå±•ç¤ºå®¡è®¡æ—¥å¿—
  - **ä¾èµ–**ï¼šT023

---

## é˜¶æ®µ 3.5ï¼šæ•°æ®è¿ç§»å’Œé…ç½®

- [ ] **T027** ç°æœ‰ä»»åŠ¡è¿ç§»åˆ°å¢å¼º Scheduler âš ï¸ ç®€åŒ–
  - è¿ç§» `alert_processing` ä»»åŠ¡ï¼ˆæ·»åŠ æ‰§è¡Œå†å²è®°å½•ï¼‰
  - è¿ç§» `database_audit_cleanup` ä»»åŠ¡
  - æ›´æ–°ä»»åŠ¡æ³¨å†Œé€»è¾‘ï¼ˆä½¿ç”¨ `AddCron()` æ–¹æ³•ï¼‰
  - **æ–‡ä»¶**ï¼š`internal/services/scheduler/tasks/alert.go`ã€`cleanup.go`ï¼ˆä¿®æ”¹ç°æœ‰æ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šç°æœ‰ä»»åŠ¡æ­£å¸¸è°ƒåº¦ï¼Œæ‰§è¡Œå†å²æ­£ç¡®è®°å½•
  - **ä¾èµ–**ï¼šT013ã€T014

- [ ] **T028** [P] é…ç½®æ–‡ä»¶æ›´æ–° âš ï¸ ç®€åŒ–
  - æ·»åŠ  Scheduler é…ç½®ï¼ˆè¶…æ—¶æ—¶é—´ã€æœ€å¤§é‡è¯•æ¬¡æ•°ï¼‰
  - æ·»åŠ  Audit é…ç½®ï¼ˆä¿ç•™æœŸã€å¯¹è±¡å¤§å°é™åˆ¶ï¼‰
  - **æ— éœ€æ·»åŠ **ï¼šåˆ†å¸ƒå¼é”ç±»å‹é…ç½®
  - **æ–‡ä»¶**ï¼š`config.yaml`
  - **éªŒè¯**ï¼šé…ç½®å¯ä»¥åŠ è½½å’Œç”Ÿæ•ˆ
  - **ä¾èµ–**ï¼šT013ã€T017

---

## é˜¶æ®µ 3.6ï¼šä¼˜åŒ–å’Œæ–‡æ¡£

- [ ] **T029** [P] Swagger æ–‡æ¡£ç”Ÿæˆ
  - ä¸ºæ‰€æœ‰æ–° API ç«¯ç‚¹æ·»åŠ  Swagger æ³¨é‡Š
  - è¿è¡Œ `./scripts/generate-swagger.sh`
  - **æ–‡ä»¶**ï¼šå¤„ç†å™¨æ–‡ä»¶ä¸­çš„æ³¨é‡Š
  - **éªŒè¯**ï¼šSwagger æ–‡æ¡£æ­£ç¡®æ˜¾ç¤ºæ–°ç«¯ç‚¹
  - **ä¾èµ–**ï¼šT022ã€T023

- [ ] **T030** [P] éƒ¨ç½²æ–‡æ¡£æ›´æ–° âš ï¸ ç®€åŒ–
  - æ›´æ–°éƒ¨ç½²æŒ‡å—ï¼ˆè¶…æ—¶é…ç½®ã€ä¿ç•™æœŸé…ç½®ï¼‰
  - æ·»åŠ æ€§èƒ½è°ƒä¼˜å»ºè®®
  - æ·»åŠ æ•…éšœæ’æŸ¥æŒ‡å—
  - **æ— éœ€æ·»åŠ **ï¼šåˆ†å¸ƒå¼é”é…ç½®ã€å¤šå®ä¾‹éƒ¨ç½²
  - **æ–‡ä»¶**ï¼š`docs/deployment.md`
  - **éªŒè¯**ï¼šæ–‡æ¡£æ¸…æ™°å®Œæ•´
  - **ä¾èµ–**ï¼šT028

- [ ] **T031** ä»£ç è´¨é‡æ£€æŸ¥
  - è¿è¡Œ `task lint` å¹¶ä¿®å¤æ‰€æœ‰è­¦å‘Š
  - è¿è¡Œ `task gofmt` æ ¼å¼åŒ–ä»£ç 
  - æ£€æŸ¥ä»£ç è¦†ç›–ç‡ï¼ˆç›®æ ‡ 80%ï¼‰
  - **æ–‡ä»¶**ï¼šæ‰€æœ‰æºæ–‡ä»¶
  - **éªŒè¯**ï¼š`task lint` é€šè¿‡ï¼Œè¦†ç›–ç‡è¾¾æ ‡
  - **ä¾èµ–**ï¼šæ‰€æœ‰å®ç°ä»»åŠ¡

- [ ] **T032** æ‰‹åŠ¨éªŒè¯ï¼ˆquickstart.md åœºæ™¯ï¼‰âš ï¸ ç®€åŒ–
  - æ‰§è¡Œåœºæ™¯ 1ï¼šå•å®ä¾‹ä»»åŠ¡è°ƒåº¦éªŒè¯
  - æ‰§è¡Œåœºæ™¯ 2ï¼šä»»åŠ¡æ‰§è¡Œå†å²æŸ¥è¯¢
  - æ‰§è¡Œåœºæ™¯ 3ï¼šä»»åŠ¡æ‰‹åŠ¨è§¦å‘å’Œå¤±è´¥å¤„ç†
  - æ‰§è¡Œåœºæ™¯ 4ï¼šå®¡è®¡æ—¥å¿—è®°å½•å’ŒæŸ¥è¯¢
  - æ‰§è¡Œåœºæ™¯ 5ï¼šå®¡è®¡æ—¥å¿—å¯¹è±¡æˆªæ–­éªŒè¯
  - æ‰§è¡Œåœºæ™¯ 6ï¼šå®¡è®¡é…ç½®ç®¡ç†
  - æ‰§è¡Œåœºæ™¯ 7ï¼šä»»åŠ¡ç»Ÿè®¡æ•°æ®æŸ¥è¯¢
  - **è·³è¿‡åœºæ™¯**ï¼šåˆ†å¸ƒå¼ç¯å¢ƒä»»åŠ¡è°ƒåº¦éªŒè¯
  - **æ–‡ä»¶**ï¼šæ— ï¼ˆæ‰‹åŠ¨æµ‹è¯•ï¼‰
  - **éªŒè¯**ï¼šæ‰€æœ‰åœºæ™¯é€šè¿‡
  - **ä¾èµ–**ï¼šæ‰€æœ‰å®ç°ä»»åŠ¡
  - **å‚è€ƒ**ï¼š`quickstart.md`ï¼ˆè·³è¿‡åœºæ™¯ 1 çš„å¤šå®ä¾‹éƒ¨åˆ†ï¼‰

---

## é˜¶æ®µ 3.7ï¼šå¯é€‰å¢å¼ºä»»åŠ¡ï¼ˆæ ¹æ®æ—¶é—´å’Œéœ€æ±‚å†³å®šï¼‰

- [ ] **T033** [å¯é€‰] å¼ºç±»å‹ Action/ResourceType æšä¸¾
  - åˆ›å»º `Action` æšä¸¾ï¼ˆcreatedã€updatedã€deleted ç­‰ï¼‰
  - åˆ›å»º `ResourceType` æšä¸¾ï¼ˆclusterã€databaseã€user ç­‰ï¼‰
  - å®ç° `Validate()` æ–¹æ³•
  - **æ–‡ä»¶**ï¼š`internal/models/audit_types.go`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **ç†ç”±**ï¼šç°æœ‰å­—ç¬¦ä¸²å·²å·¥ä½œè‰¯å¥½ï¼Œå¼ºç±»å‹å¯ä»¥æé«˜ç±»å‹å®‰å…¨ä½†éå¿…éœ€
  - **å‚è€ƒ**ï¼š`data-model.md` å®ä½“ 5 å’Œ 6

- [ ] **T034** [å¯é€‰] Scheduler ä¼˜å…ˆçº§é˜Ÿåˆ—
  - å®ç°ä¼˜å…ˆçº§è°ƒåº¦ï¼ˆé«˜ä¼˜å…ˆçº§ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œï¼‰
  - **æ–‡ä»¶**ï¼š`internal/services/scheduler/priority.go`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **ç†ç”±**ï¼šå½“å‰ä»»åŠ¡é‡ä¸å¤§ï¼Œç®€å• FIFO è¶³å¤Ÿ

- [ ] **T035** [å¯é€‰] Scheduler Filter æœºåˆ¶
  - å®ç° `Filter` æ¥å£ï¼ˆèµ„æºæ ‡ç­¾åŒ¹é…ï¼‰
  - **æ–‡ä»¶**ï¼š`internal/services/scheduler/filter.go`ï¼ˆæ–°æ–‡ä»¶ï¼‰
  - **ç†ç”±**ï¼šGitness ç‰¹æ€§ï¼ŒTiga å¯èƒ½ä¸éœ€è¦

---

## é˜¶æ®µ 3.8ï¼šå®¡è®¡ç³»ç»Ÿç»Ÿä¸€ï¼ˆå¯é€‰ï¼‰ğŸ†•

**å‰ææ¡ä»¶**ï¼šT012ï¼ˆAuditEvent æ¨¡å‹ï¼‰ã€T020ï¼ˆAuditEventRepositoryï¼‰å·²å®Œæˆ

- [x] **T036** [å¯é€‰] MinIO æ”¹ç”¨ç»Ÿä¸€å®¡è®¡
  - ä¿®æ”¹ MinIO æœåŠ¡ä½¿ç”¨ `models.AuditEvent` æ›¿æ¢ `models.MinIOAuditLog`
  - å°† MinIO ç‰¹å®šå­—æ®µåºåˆ—åŒ–åˆ° `Data` map å­—æ®µï¼š
    ```json
    {
      "instance_id": "minio-uuid-1234",
      "operation_type": "upload",
      "bucket": "my-bucket",
      "object_key": "files/document.pdf",
      "file_size": 1048576,
      "content_type": "application/pdf"
    }
    ```
  - è®¾ç½® `Subsystem = "minio"`
  - ä½¿ç”¨ç»Ÿä¸€ `audit.AsyncLogger[*models.AuditEvent]`
  - **æ–‡ä»¶**ï¼š`internal/services/minio/`ï¼ˆå¤šä¸ªæ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šMinIO æ“ä½œæ­£ç¡®è®°å½•åˆ° `audit_events` è¡¨
  - **ä¾èµ–**ï¼šT012ã€T020
  - **å‚è€ƒ**ï¼š`audit-unification.md` ç¬¬ä¸‰é˜¶æ®µ

- [x] **T037** [å¯é€‰] Database æ”¹ç”¨ç»Ÿä¸€å®¡è®¡
  - ä¿®æ”¹ Database æœåŠ¡ä½¿ç”¨ `models.AuditEvent` æ›¿æ¢ `models.DatabaseAuditLog`
  - å°† Database ç‰¹å®šå­—æ®µåºåˆ—åŒ–åˆ° `Data` map å­—æ®µï¼š
    ```json
    {
      "instance_id": "db-uuid-5678",
      "db_type": "postgresql",
      "target_database": "production_db",
      "query": "SELECT * FROM users WHERE id = $1",
      "execution_time_ms": 45,
      "rows_affected": 1
    }
    ```
  - è®¾ç½® `Subsystem = "database"`
  - ä½¿ç”¨ç»Ÿä¸€ `audit.AsyncLogger[*models.AuditEvent]`
  - **æ–‡ä»¶**ï¼š`internal/services/database/`ï¼ˆå¤šä¸ªæ–‡ä»¶ï¼‰
  - **éªŒè¯**ï¼šDatabase æ“ä½œæ­£ç¡®è®°å½•åˆ° `audit_events` è¡¨
  - **ä¾èµ–**ï¼šT012ã€T020
  - **å‚è€ƒ**ï¼š`audit-unification.md` ç¬¬ä¸‰é˜¶æ®µ

---

## ä¾èµ–å…³ç³»å›¾

```
è®¾ç½® (T001-T003)
  â†“
å¥‘çº¦æµ‹è¯• [P] (T004-T005)
  â†“
é›†æˆæµ‹è¯•æ¡†æ¶ [P] (T006-T010)
  â†“
æ•°æ®æ¨¡å‹ [P] (T011-T012) ğŸ†• T012 æ”¹ä¸ºç»Ÿä¸€ AuditEvent
  â†“
Scheduler æ ¸å¿ƒ (T013 â†’ T014 â†’ T015-T016)
  â†“
Audit æ ¸å¿ƒ (T018 â†’ T017) ğŸ†• T017 ä¾èµ– T012
  â†“
Repository [P] (T019-T021) ğŸ†• T020 æ”¹ä¸ºç»Ÿä¸€ AuditEventRepository
  â†“
API å¤„ç†å™¨ [P] (T022-T023)
  â†“
å‰ç«¯ [P] (T024-T026)
  â†“
æ•°æ®è¿ç§»å’Œé…ç½® (T027-T028)
  â†“
ä¼˜åŒ–å’Œæ–‡æ¡£ [P] (T029-T032)
  â†“
å¯é€‰å¢å¼º [P] (T033-T035)
  â†“
å®¡è®¡ç³»ç»Ÿç»Ÿä¸€ï¼ˆå¯é€‰ï¼‰[P] (T036-T037) ğŸ†• ä¾èµ– T012+T020
```

---

## å¹¶è¡Œæ‰§è¡Œç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šå¥‘çº¦æµ‹è¯•ï¼ˆé˜¶æ®µ 3.2 å¼€å§‹ï¼‰

```bash
# åœ¨å•ä¸ªæ¶ˆæ¯ä¸­å¯åŠ¨ä¸¤ä¸ªå¥‘çº¦æµ‹è¯•ä»»åŠ¡
Task: "å®ç° Scheduler API å¥‘çº¦æµ‹è¯•ï¼ˆtests/contract/scheduler_contract_test.goï¼‰ï¼Œæµ‹è¯• 8 ä¸ªç«¯ç‚¹ï¼Œå‚è€ƒ contracts/scheduler_api.yaml"
Task: "å®ç° Audit API å¥‘çº¦æµ‹è¯•ï¼ˆtests/contract/audit_contract_test.goï¼‰ï¼Œæµ‹è¯• 4 ä¸ªç«¯ç‚¹ï¼Œå‚è€ƒ contracts/audit_api.yaml"
```

### ç¤ºä¾‹ 2ï¼šé›†æˆæµ‹è¯•æ¡†æ¶ï¼ˆT006-T010ï¼‰

```bash
# åœ¨å•ä¸ªæ¶ˆæ¯ä¸­å¯åŠ¨ 5 ä¸ªé›†æˆæµ‹è¯•æ¡†æ¶ä»»åŠ¡
Task: "å®ç°ä»»åŠ¡æ‰§è¡Œé›†æˆæµ‹è¯•æ¡†æ¶ï¼ˆtests/integration/scheduler/task_execution_test.goï¼‰ï¼Œæµ‹è¯•è°ƒåº¦ã€é‡è¯•ã€è¶…æ—¶æ§åˆ¶"
Task: "å®ç°å¹¶å‘è°ƒåº¦é›†æˆæµ‹è¯•ï¼ˆtests/integration/scheduler/concurrent_test.goï¼‰ï¼Œæµ‹è¯•å•å®ä¾‹å†…å¹¶å‘æ‰§è¡Œ"
Task: "å®ç°å®¡è®¡æ—¥å¿—åˆ›å»ºé›†æˆæµ‹è¯•ï¼ˆtests/integration/audit/event_creation_test.goï¼‰ï¼Œæµ‹è¯•äº‹ä»¶è®°å½•å’Œ IP æå–"
Task: "å®ç°å®¡è®¡æ—¥å¿—æŸ¥è¯¢æ€§èƒ½æµ‹è¯•ï¼ˆtests/integration/audit/query_performance_test.goï¼‰ï¼ŒéªŒè¯ 10000 æ¡è®°å½• <2 ç§’"
Task: "å®ç°å¯¹è±¡æˆªæ–­é›†æˆæµ‹è¯•ï¼ˆtests/integration/audit/truncation_test.goï¼‰ï¼ŒéªŒè¯ 64KB é™åˆ¶å’Œç»“æ„å®Œæ•´æ€§"
```

### ç¤ºä¾‹ 3ï¼šæ•°æ®æ¨¡å‹ï¼ˆT011-T012ï¼‰

```bash
# åœ¨å•ä¸ªæ¶ˆæ¯ä¸­å¯åŠ¨ 2 ä¸ªæ•°æ®æ¨¡å‹ä»»åŠ¡
Task: "åˆ›å»º TaskExecution æ¨¡å‹ï¼ˆinternal/models/task_execution.goï¼‰ï¼Œå®ç° ExecutionState æšä¸¾å’Œ Validate() æ–¹æ³•"
Task: "åˆ›å»ºç»Ÿä¸€ AuditEvent æ¨¡å‹ï¼ˆinternal/models/audit_event.goï¼‰ï¼Œå®ç° audit.AuditLog æ¥å£ï¼ŒåŒ…å« Subsystem å’Œ Metadata å­—æ®µ"
```

### ç¤ºä¾‹ 4ï¼šRepository å±‚ï¼ˆT019-T021ï¼‰

```bash
# åœ¨å•ä¸ªæ¶ˆæ¯ä¸­å¯åŠ¨ 3 ä¸ª Repository ä»»åŠ¡
Task: "å®ç° TaskExecutionRepositoryï¼ˆinternal/repository/scheduler/execution.goï¼‰ï¼ŒCRUD å’Œç»Ÿè®¡æŸ¥è¯¢"
Task: "åˆ›å»ºç»Ÿä¸€ AuditEventRepositoryï¼ˆinternal/repository/audit_event_repo.goï¼‰ï¼Œå®ç° audit.AuditRepository[*AuditEvent] æ¥å£"
Task: "è®¾è®¡å’Œä¼˜åŒ–æŸ¥è¯¢ç´¢å¼•ï¼ˆæ•°æ®åº“è¿ç§»è„šæœ¬ï¼‰ï¼Œåˆ›å»ºå¤åˆç´¢å¼•å¹¶éªŒè¯æ€§èƒ½"
```

### ç¤ºä¾‹ 5ï¼šAPI å¤„ç†å™¨ï¼ˆT022-T023ï¼‰

```bash
# åœ¨å•ä¸ªæ¶ˆæ¯ä¸­å¯åŠ¨ 2 ä¸ª API å¤„ç†å™¨ä»»åŠ¡
Task: "å®ç° Scheduler API å¤„ç†å™¨ï¼ˆinternal/api/handlers/scheduler/ï¼‰ï¼ŒåŒ…æ‹¬ tasks.goã€executions.goã€stats.goï¼Œå…± 8 ä¸ªç«¯ç‚¹"
Task: "å®ç° Audit API å¤„ç†å™¨ï¼ˆinternal/api/handlers/audit/ï¼‰ï¼ŒåŒ…æ‹¬ events.goã€config.goï¼Œå…± 4 ä¸ªç«¯ç‚¹"
```

---

## éªŒè¯æ¸…å•

**é—¨ç¦ï¼šåœ¨æ ‡è®°é¡¹ç›®å®Œæˆä¹‹å‰æ£€æŸ¥**

- [x] æ‰€æœ‰å¥‘çº¦éƒ½æœ‰å¯¹åº”çš„æµ‹è¯•ï¼ˆT004ã€T005ï¼‰
- [x] æ‰€æœ‰å®ä½“éƒ½æœ‰æ¨¡å‹ä»»åŠ¡ï¼ˆT011ã€T012 ç»Ÿä¸€æ¨¡å‹ï¼‰
- [x] æ‰€æœ‰æµ‹è¯•éƒ½åœ¨å®ç°ä¹‹å‰ï¼ˆé˜¶æ®µ 3.2 åœ¨ 3.3 ä¹‹å‰ï¼‰
- [x] å¹¶è¡Œä»»åŠ¡çœŸæ­£ç‹¬ç«‹ï¼ˆæ ‡è®° [P] çš„ä»»åŠ¡æ“ä½œä¸åŒæ–‡ä»¶ï¼‰
- [x] æ¯ä¸ªä»»åŠ¡æŒ‡å®šç¡®åˆ‡çš„æ–‡ä»¶è·¯å¾„
- [x] æ²¡æœ‰ä»»åŠ¡ä¿®æ”¹ä¸å¦ä¸€ä¸ª [P] ä»»åŠ¡ç›¸åŒçš„æ–‡ä»¶
- [x] æ‰€æœ‰é›†æˆæµ‹è¯•åœºæ™¯éƒ½å·²è¦†ç›–ï¼ˆquickstart.md ç®€åŒ–ç‰ˆåœºæ™¯ï¼‰
- [x] æ€§èƒ½ç›®æ ‡æ˜ç¡®ä¸”å¯æµ‹è¯•ï¼ˆ<2s å®¡è®¡æŸ¥è¯¢ï¼‰
- [x] åŸºäºç°æœ‰ä»£ç å¢å¼ºï¼Œè€Œéå®Œå…¨é‡å†™
- [x] åˆ é™¤äº†æ‰€æœ‰åˆ†å¸ƒå¼é”ç›¸å…³ä»»åŠ¡
- [x] å®¡è®¡ç³»ç»Ÿå·²ç»Ÿä¸€ï¼ˆæ–¹æ¡ˆ Aï¼šå•è¡¨ audit_eventsï¼‰

---

## ä»»åŠ¡æ€»æ•°ï¼š37 ä¸ªï¼ˆå®¡è®¡ç»Ÿä¸€ç‰ˆï¼‰

**å¯¹æ¯”åŸè®¡åˆ’**ï¼ˆ48 ä»»åŠ¡ï¼‰ï¼š
- **åˆ é™¤**ï¼š10 ä¸ªä»»åŠ¡ï¼ˆåˆ†å¸ƒå¼é” 5 ä¸ª + å…¶ä»– 5 ä¸ªï¼‰
- **ç®€åŒ–**ï¼š18 ä¸ªä»»åŠ¡ï¼ˆæ ‡è®° âš ï¸ ç®€åŒ–ï¼‰
- **ç»Ÿä¸€**ï¼š3 ä¸ªä»»åŠ¡æ”¹ä¸ºç»Ÿä¸€å®¡è®¡ï¼ˆT012ã€T017ã€T020ï¼Œæ ‡è®° ğŸ†•ï¼‰
- **æ–°å¢**ï¼š2 ä¸ªå¯é€‰ä»»åŠ¡ï¼ˆT036-T037ï¼šå­ç³»ç»Ÿè¿ç§»ï¼‰
- **ä¿ç•™**ï¼š20 ä¸ªä»»åŠ¡ï¼ˆå®Œå…¨ä¿ç•™ï¼‰
- **æ–°å¢å¯é€‰**ï¼š3 ä¸ªä»»åŠ¡ï¼ˆT033-T035ï¼šå…¶ä»–å¢å¼ºï¼‰

**ä»»åŠ¡åˆ†å¸ƒ**ï¼š
- **è®¾ç½®**ï¼š3 ä¸ªï¼ˆT001-T003ï¼‰
- **æµ‹è¯•ä¼˜å…ˆ**ï¼š7 ä¸ªï¼ˆT004-T010ï¼‰
- **æ ¸å¿ƒå®ç°**ï¼š19 ä¸ªï¼ˆT011-T029ï¼‰
  - æ•°æ®æ¨¡å‹ï¼š2 ä¸ª [P]ï¼ˆT011 Schedulerï¼ŒT012 ç»Ÿä¸€ Audit ğŸ†•ï¼‰
  - Scheduler æ ¸å¿ƒï¼š4 ä¸ªï¼ˆT013-T016ï¼‰
  - Audit æ ¸å¿ƒï¼š2 ä¸ªï¼ˆT017 ğŸ†•ã€T018ï¼‰
  - Repositoryï¼š3 ä¸ª [P]ï¼ˆT019 Schedulerï¼ŒT020 ç»Ÿä¸€ Audit ğŸ†•ï¼ŒT021 ç´¢å¼•ï¼‰
  - API å¤„ç†å™¨ï¼š2 ä¸ª [P]ï¼ˆT022-T023ï¼‰
  - å‰ç«¯ï¼š3 ä¸ª [P]ï¼ˆT024-T026ï¼‰
  - æ•°æ®è¿ç§»å’Œé…ç½®ï¼š2 ä¸ªï¼ˆT027-T028ï¼‰
- **ä¼˜åŒ–å’Œæ–‡æ¡£**ï¼š4 ä¸ªï¼ˆT029-T032ï¼‰
- **å¯é€‰å¢å¼º**ï¼š3 ä¸ªï¼ˆT033-T035ï¼‰
- **å®¡è®¡ç»Ÿä¸€ï¼ˆå¯é€‰ï¼‰**ï¼š2 ä¸ªï¼ˆT036-T037ï¼šMinIO å’Œ Database è¿ç§»ï¼‰ğŸ†•

**é¢„è®¡å¹¶è¡Œæ‰§è¡Œæ¬¡æ•°**ï¼š9 è½®ï¼ˆæ ‡è®° [P] çš„ä»»åŠ¡ç»„ï¼‰
**é¢„è®¡é¡ºåºæ‰§è¡Œæ¬¡æ•°**ï¼š~12 è½®ï¼ˆæ—  [P] æ ‡è®°çš„ä»»åŠ¡ç»„ï¼‰
**é¢„è®¡æ€»æ‰§è¡Œæ—¶é—´**ï¼šå‡å°‘çº¦ 35%ï¼ˆç›¸æ¯”åŸè®¡åˆ’ 48 ä»»åŠ¡ï¼Œç»Ÿä¸€å®¡è®¡ç•¥å¢åŠ  2 ä¸ªå¯é€‰ä»»åŠ¡ï¼‰

---

## æ³¨æ„äº‹é¡¹

### TDD å¼ºåˆ¶è¦æ±‚
- **T004-T010 å¿…é¡»åœ¨ T011 ä¹‹å‰å®Œæˆ**
- éªŒè¯æ‰€æœ‰æµ‹è¯•å¤±è´¥åå†å¼€å§‹å®ç°
- æ¯ä¸ªé˜¶æ®µå®Œæˆåè¿è¡Œç›¸åº”çš„æµ‹è¯•éªŒè¯è¿›åº¦

### å¹¶è¡Œæ‰§è¡Œè§„åˆ™
- **[P] æ ‡è®°**ï¼šåªæœ‰æ“ä½œä¸åŒæ–‡ä»¶ä¸”æ— ä¾èµ–å…³ç³»çš„ä»»åŠ¡æ‰èƒ½å¹¶è¡Œ
- **éªŒè¯æ–¹æ³•**ï¼šæ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦é‡å 

### æäº¤ç­–ç•¥
- æ¯ä¸ªä»»åŠ¡å®Œæˆåå•ç‹¬æäº¤
- æäº¤ä¿¡æ¯æ ¼å¼ï¼š`[T001] åˆ›å»ºé¡¹ç›®ç»“æ„å’Œåˆ†æ”¯`
- å¥‘çº¦æµ‹è¯•å¤±è´¥æ—¶ä¹Ÿè¦æäº¤ï¼ˆTDD è¦æ±‚ï¼‰

### ç®€åŒ–åŸåˆ™
- **åŸºäºç°æœ‰ä»£ç å¢å¼º**ï¼Œä¸å®Œå…¨é‡å†™
- **ä¿ç•™ Tiga ç®€æ´æ€§**ï¼Œé¿å… Gitness å¤æ‚æ€§
- **å•å®ä¾‹ä¼˜å…ˆ**ï¼Œä¸ºå¤šå®ä¾‹é¢„ç•™æ¥å£ï¼ˆå¯é€‰ï¼‰

### æ•…éšœæ¢å¤
- å¦‚æœæŸä¸ªä»»åŠ¡å¤±è´¥ï¼Œä¸è¦è·³è¿‡ï¼Œä¿®å¤åç»§ç»­
- é›†æˆæµ‹è¯•å¤±è´¥æ—¶ï¼Œæ£€æŸ¥ä¾èµ–ä»»åŠ¡æ˜¯å¦çœŸæ­£å®Œæˆ
- æ€§èƒ½æµ‹è¯•ä¸è¾¾æ ‡æ—¶ï¼Œè¿è¡Œæ€§èƒ½åˆ†æå·¥å…·ï¼ˆpprofï¼‰

---

**ä»»åŠ¡çŠ¶æ€**ï¼šâœ… å·²ç”Ÿæˆï¼ˆ37 ä¸ªä»»åŠ¡ï¼Œå®¡è®¡ç»Ÿä¸€ç‰ˆï¼‰
**å‡†å¤‡åº¦**ï¼šå¯ç«‹å³å¼€å§‹æ‰§è¡Œï¼ˆä» T001 å¼€å§‹ï¼‰
**ä¸‹ä¸€æ­¥**ï¼šè¿è¡Œ `git checkout -b 006-gitness-tiga` å¹¶å¼€å§‹ T001

---

**å˜æ›´æ—¥å¿—**ï¼š
- **v3.0**ï¼ˆ2025-10-20ï¼‰ï¼šå®¡è®¡ç³»ç»Ÿç»Ÿä¸€ï¼Œé‡‡ç”¨æ–¹æ¡ˆ Aï¼ˆå•è¡¨ `audit_events`ï¼‰ï¼Œä» 35 ä»»åŠ¡å¢åŠ åˆ° 37 ä»»åŠ¡
  - T012ï¼šæ”¹ä¸ºåˆ›å»ºç»Ÿä¸€ `models.AuditEvent` æ¨¡å‹
  - T020ï¼šæ”¹ä¸ºåˆ›å»ºç»Ÿä¸€ `AuditEventRepository`
  - T017ï¼šä½¿ç”¨ç»Ÿä¸€ `audit.AsyncLogger[*AuditEvent]`
  - æ–°å¢ T036-T037ï¼šMinIO å’Œ Database è¿ç§»ä»»åŠ¡ï¼ˆå¯é€‰ï¼‰
- **v2.0**ï¼ˆ2025-10-20ï¼‰ï¼šåŸºäº `audit-report.md` ç®€åŒ–ï¼Œä» 48 ä»»åŠ¡å‡å°‘åˆ° 35 ä»»åŠ¡
- **v1.0**ï¼ˆ2025-10-19ï¼‰ï¼šåˆå§‹ç‰ˆæœ¬ï¼Œ48 ä»»åŠ¡ï¼ˆå·²åºŸå¼ƒï¼‰
